<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>环形图 / 单一的情况</title>
    <script src="https://unpkg.com/image2d@1"></script>
    <style>
        canvas {
            width: 400px;
            height: 400px;
        }
    </style>
</head>

<body>

    <canvas>非常抱歉，您的浏览器不支持canvas!</canvas>

    <script>

        var painter = $$('canvas').painter();

        var data = [{
            type: "苹果",
            number: 124
        }, {
            type: "香蕉",
            number: 56
        }, {
            type: "栗子",
            number: 310
        }];

        // 求和
        var sum = 0;
        for (var i = 0; i < data.length; i++) sum += data[i].number;

        // 准备好颜色
        // https://hai2007.gitee.io/image2d/index.html#/api/tool?fixed=colors-getLoopColors
        var colors = $$.getLoopColors(data.length);

        var beginDeg = -Math.PI * 0.5, deg;
        for (var i = 0; i < data.length; i++) {
            deg = data[i].number / sum * Math.PI * 2;

            // 配置画笔的颜色
            // https://hai2007.gitee.io/image2d/index.html#/api/painter?fixed=config
            painter.config('fillStyle', colors[i]);

            // https://hai2007.gitee.io/image2d/index.html#/api/painter?fixed=painter-arc
            painter.fillArc(200, 200, 100, 200, beginDeg, deg);

            beginDeg += deg;
        }

    </script>

</body>

</html>
